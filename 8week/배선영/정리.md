# 17장

- 동시성 기본형을 이용하여 타임라인을 관리하는 객체를 만들수 있음

### cut()

- 타임라인을 분리하여 액션이 섞이지 않고, 순서가 보장되도록 하는 기법
- 실행 가능한 순서가 중요하지 않은 콜백들을 병렬로 처리하며 속도 개선이 가

```jsx
function Cut(num, callback) { 
    var num_finished = 0; 
    return function() { 
        num_finished += 1;
        if (num_finished === num)
            callback();
    };
}
```

### justonce()

- 여러번 호출에도 한번만 실행하도록 함

```jsx
function JustOnce(action) {
    var alreadyCalled = false;
    if (alreadyCalled) // 실행한 적이 있다면 바로 종료
        return;
    alreadyCalled = true;
    return action(a, b, c); // 인자와 함께 액션 호출
    };
}
```

- 각 언어마다 암묵적으로 실행에 관한 시간 모델(순서, 반복)을 갖고 있음.
    - (순서) 순차적 구문은 순서대로 실행
    - (순서) 두 타임라인에 있는 단계는 왼쪽 먼저 실행되거나, 오른쪽 먼저 실행(멀티 스레드 지원 X)
    - (순서) 비동기 이벤트는 새로운 타임라인에서 실행
    - (반복) 액션은 호출될 때마다 실행
- 언어의 시간 모델이 원하는 것과 다를 수 있기 때문에 애플리케이션에 적합한 시간 모델을 명시적으로 만들 수 있어야 함.


# 18장

## 반응형 아키텍처

- 이벤트에 대한 반응으로 일어날 일을 지정하는 것

### 반응형 아키텍처의 절충점

- 원인과 효과를 분리
- 단계를 파이프라인으로 처리

## 어니언 아키텍처

- 현실 세계와 상호작용하기 위한 서비스 구조를 만드는 방법

### 규칙

1. 현실 세계와 상호작용은 인터랙션 계층에서 해야한다.
2. 계층에서 호출하는 방향은 중심 방향이다
3. 계층은 외부에 어떤 계층이 있는지 모른다.


* 반응형 아키텍처에서 말하는 순차적 액션 순서를 뒤집는다는게 무슨 말인지 모르겠다
