# 8장. 계층형 설계 1

### 계층형 설계 : 소프트웨어를 계층으로 구성하는 기술(함수를 단위로 나눔)

![Untitled](8%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%E1%84%92%E1%85%A7%E1%86%BC%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201%206d4004695cfa442f825a422f5355abe4/Untitled.png)

## 계층형 설계 감각을 키우기 위한 입력 - 계층형 설계를 위한 길잡이

- 함수 본문
    - 길이
    - 복잡성
    - 구체화 단계
    - 함수 호출
    - 프로그래밍 언어의 기능 사용
- 계층 구조
    - 화살표 길이
    - 응집도
    - 구체화 단계
- 함수 시그니처
    - 함수명
    - 인자 이름
    - 인자값
    - 리턴값

## 계층형 설계 감각을 키우기 위한 출력 - 입력의 사용 방법

- 조직화
    - 새로운 함수를 어디에 놓을지
    - 함수 이동
- 구현
    - 구현 바꾸기
    - 함수 추출
    - 데이터 구조 변경
- 변경
    - 코드 작성 부분 선택
    - 구체화 단계 결정

## 계층형 설계 패턴

- 직접 구현
    - 

### 직접 구현 : 적정한 구체화 정도를 통해 메서드 구현

```jsx
사실 무슨 말인지 좀 혼란스럽긴 함 
P.172에서 기능추가를 위한 코드 추가가 잘못되었다는걸 보고 
기능에 대한 독자적인 메서드를 짜보라는건가? 라는 생각으로 이해함

구현 후 추상화 정도를 분석해 리팩토링 하는 단계 전체를 직접구현이라 하는건지
애초에 추상화 정도를 다 지킨 코드 자체를 직접구현이라 생각하는지 궁금

- 한 단계의 구체화 수준에 대한 문제를 해결
- 언어지원 수준의 낮은 레벨 등으로 추상화를 구분하여 한 단계의 구체화 수준에 관한 문제만 해결
- 구체화 정도를 시각화하고 코드를 더욱 명확하게 만들 수 있다.
```

P.175 에서 직접 구현한 메서드와 언어가 제공하는 기능은 추상화가 다르고, 추상화 정도가 다르기에 직접구현이 아니라고 한다. 이럴 경우 

![Untitled](8%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%E1%84%92%E1%85%A7%E1%86%BC%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201%206d4004695cfa442f825a422f5355abe4/Untitled%201.png)

중간에 메서드를 삽입해 추상화 정도를 맞추어줄 수 있다.

### 같은 계층에 있는 함수는 같은 목적을 가져야 한다.

![Untitled](8%E1%84%8C%E1%85%A1%E1%86%BC%20%E1%84%80%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%BC%E1%84%92%E1%85%A7%E1%86%BC%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201%206d4004695cfa442f825a422f5355abe4/Untitled%202.png)

```jsx
위 사진은 책에서 제공하는 예제 사진으로 함수의 **목적**을 기준으로 계층을 나누었다.
개인적으로 코딩할때 같은 레벨의 함수라도 재사용성을 높이거나 그냥 메서드 분리를 위해 함수를 추출하는 경우가 있다.
ex) 코테문제 풀 때 isRange(int r, int c)
이런식으로 쪼개면 어떻게 그림이 구상되는걸까? 
메서드는 호출에 따라 상하위 개념으로 나누어 질수 있는데 이걸 계층 정도가 나누어지는건 아니라고 생각한다.

책에서 나오는 편리한계층을 조금 무시하는 생각인거 같기도 하다.
```

- 3단계 줌 레벨 : 계층형 설계를 용이하기 위해 구체화 수준을 다르게 살펴보는 방법
    - 전역 줌 레벨 : 가장 기본 줌 레벨, 계층 사이의 상호 관계 및 모든 문제영역 확인
    - 계층 줌 레벨 : 한 계층과 바로 아래 계층을 보는 줌 레벨
    - 함수 줌 레벨 : 하나의 함수와 아래 연결된 함수들 확인, 설계 문제를 찾거나 고칠수 있다.