# 일급 함수 1

## 살펴볼 내용

1. 왜 일급 값이 좋은지??
2. 문법을 일급 함수로 만드는 방법에 대해 알아봅니다.
3. 고차 함수로 문법을 감싸는 방법을 알아봅니다.
4. 일급 함수와 고차 함수를 사용한 리팩토링 두 개를 살펴봅니다.

### 코드의 냄새

- 함수 이름에 있는 암묵적 인자.
  > 더 큰 문제를 가져올 수 있는 코드

### 리팩터링 : 암묵적 인자를 드러내기

1. 암묵적 인자를 확인
2. 명시적인 인자를 추가
3. 하드 코딩된 값을 새로운 인자로 바꾼다.
4. 함수를 호출하는 곳을 고친다.

### 함수 본문을 콜백으로 바꾸기

1. 함수 본문에서 바꿀 부분의 앞부분과 뒷부분을 확인
2. 리팩터링 할 코드를 함수로 빼낸다.
3. 빼낸 함수의 인자로 넘길 부분을 또 다른 함수로 빼낸다.

#### 필드를 결정하는 문자열이 함수 이름에 있다는 것.

### 일급인 것과 일급이 아닌 것을 구별하기

- 자바스크립트에서는 값이 아니기 때문에 일급이 아니다. (연산자, if 문, for 문)

### 일급이 아닌 것을 일급으로 바꾸는 방법

- 함수명의 일부를 인자로 바꿔서 일급으로 만드는 방법

```
function setPriceByName (cart,name,price) {
  return ~
}

function setPriceByName (cart,name,field,value){
  return ~
}
```

### 함수 이름에 있는 암묵적 인자 냄새의 특징

- 거의 똑같이 구현된 함수가 있다.
- 함수 이름이 구현에 있는 다른 부분을 가리킨다.

### 리팩토링 단계

- 함수 이름에 있는 암묵적 인자를 확인합니다.
- 명시적인 인자를 추가합니다.
- 함수 본문에 하드 코딩된 값을 새로운 인자로 바꿉니다.
- 함수를 호출하는 곳을 고칩니다.

#### 엔티티 필드명을 일급으로 만드는것이 더 좋을까??

- 암묵적 인자를 없애고 함수를 추상화 시켰기때문에 더 좋은 것 같다.

### 데이터 지향

- 이벤트와 엔티티에 대한 사실을 표현하기 위해 일반 데이터 구조를 사용하는 프로그래밍 형식입니다.

### 정적 타입 VS 동적 타입

- 컴파일할 때 타입을 검사하는 언어를 정적 타입언어라고 부른다.
- 런타임에 타입을 확인하는 언어를 동적 타입 언어라고 부른다.

### 고차함수

- 인자로 함수를 받거나 리턴 값으로 함수를 리턴할 수 있습니다.

### 익명 함수

- 이름이 없는 함수, 익명 함수는 필요한 곳에 인라인으로 쓸 수 있습니다.

### 반복되는 try catch문을 리팩토링 하기

```
trt {
  saveUserData(user)
} catch (err){
  logToSnapErrors(err)
}
```

```
function withLogging (f){
  try{
    f()
  } catch(err){
    logToSnapErrors(error)
  }
}

withLogging(()=>{
  saveUserData(user)
});

```

# 일급 함수 2

## 살펴볼 내용

1. 함수 본문을 콜백으로 바꾸기 리팩터링에 대해 더 알아보기
2. 함수를 리턴하는 함수가 가진 강력한 힘을 이해하기
3. 고차 함수에 익숙해지기 위해 여러 고차 함수 만들어보기

### 카피-온-라이트 리팩토링 하기

- 카피-온-라이트의 단계

  > 카피-온-라이트
  >
  > 1.  복사본 생성
  > 2.  복사본 변경
  > 3.  복사본 리턴

### 리팩토링 단계

- 함수 본문을 콜백으로 바꾸기 단계

  > 1.  본문과 앞부분, 뒷부분을 확인하기
  > 2.  함수 빼내기
  > 3.  콜백 빼내기

- 함수 본문을 콜백으로 바꾸기 단계
  > 1.  본문과 앞부분, 뒷부분을 확인하기
  > 2.  함수 빼내기
  > 3.  콜백 빼내기

### Wrap 함수 만들어서 사용하기

```
function wrapLogging(f){
  return function(arg){
    try{
      f(arg);
    }catch(err){
      logToSnapErrors(err);
    }
  }
}

const saveUserDatawithLogging = wrapLogging(saveUserDataNoLogging)

saveUserDatawithLogging(user)
```

### wrap함수의 인자가 늘어나면?

```
function wrapLogging(f){
  return function(a,b,c,d,e,f,g,h,i){
    try{
      f(a,b,c,d,e,f,g,h,i);
    }catch(err){
      logToSnapErrors(err);
    }
  }
}
```

# 함수형 반복

## 살펴볼 내용

1. 함수형 도구 map(), filter(), reduce()
2. 배열에 대한 반복문을 함수형 도구로 바꾸는 방법에 대해
3. 함수형 도구를 어떻게 구현하는지 알아보자.

### 함수를 전달하는 세 가지 방법

1. 전역으로 정의하기
2. 지역적으로 정의하기
3. 인라인으로 정의하기
